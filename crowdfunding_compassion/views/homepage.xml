<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>

        <!-- ===  Homepage === -->
        <template id="homepage_template">
            <t t-set="header">
                <div class="container">
                    <div class="intro-text">
                        <h1 class="display-1 blue">MY PLATFORM TITLE</h1>

                        <h2 class="display-4 pb-4 ">Short platform introduction.</h2>
                        <button type="button" class="btn btn-primary btn-lg">LAUNCH A PROJECT</button>
                        <br/>
                    </div>
                </div>
            </t>
            <t t-set="headerclass">image-background</t>
            <t t-call="crowdfunding_compassion.layout">
                <!-- Impact so far -->
                <section class="# py-5" id="#">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-12 text-center py-5">
                                <h3 class="subheading">Together we achieved so far</h3>
                            </div>
                        </div>

                        <div class="row text-center">

                            <t t-foreach="fund_names" t-as="fund_name">
                                <div class="col-md-3">
                                    <img t-attf-src="data:image/png;base64, {{impact[fund_name]['image']}}"
                                         width="100" height="100"/>

                                    <h4 class="display-2 count font-weight-bolder">
                                        <t t-esc="impact[fund_name]['number']"/>
                                    </h4>

                                    <p class="count-text">
                                        <t t-esc="impact[fund_name]['impact_text']"/>
                                    </p>
                                </div>
                            </t>

                            <div class="col-md-3">
                                <img t-attf-src="{{impact['other']['image']}}"
                                     width="100" height="100"/>

                                <h4 class="display-2 count font-weight-bolder">
                                    <t t-esc="impact['other']['number']"/>
                                </h4>

                                <p class="count-text">donated to various funds</p>
                            </div>

                            <div class="col-md-3">
                                <img t-attf-src="{{impact['sponsorship']['image']}}"
                                     width="100" height="100"/>

                                <h4 class="display-2 count font-weight-bolder">
                                    <t t-esc="impact['sponsorship']['number']"/>
                                </h4>

                                <p class="count-text">sponsored children</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- How does it work -->
                <section class="blue py-5" id="#">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-12 text-center py-5">
                                <h3 class="subheading">HOW DOES IT WORK</h3>

                                <p class="count-text font-weight-normal">One line quick explanation of the process as
                                    1-2-3
                                </p>
                            </div>
                        </div>

                        <div class="row text-center">
                            <div class="col-md-4">
                                <img src="/theme_crowdfunding/static/src/img/DSC-16.jpg"
                                     class="w-75 rounded-circle pb-4" alt="Responsive image"/>

                                <p class="count-text font-weight-bold">1. Set up your project, tell why you want to do
                                    it
                                </p>

                                <p>3 or 4 lines of secondary explanatation or argumentation</p>
                            </div>

                            <div class="col-md-4">
                                <img src="/theme_crowdfunding/static/src/img/DSC-16.jpg"
                                     class="w-75 rounded-circle pb-4" alt="Responsive image"/>

                                <p class="count-text font-weight-bold">2. Choose a fund for your impact</p>

                                <p>3 or 4 lines of secondary explanatation or argumentation</p>
                            </div>

                            <div class="col-md-4">
                                <img src="/theme_crowdfunding/static/src/img/DSC-16.jpg"
                                     class="w-75 rounded-circle pb-4" alt="Responsive image"/>

                                <p class="count-text font-weight-bold">3. Publish and start sending love</p>

                                <p>3 or 4 lines of secondary explanatation or argumentation</p>
                            </div>
                        </div>

                        <div class="row text-center py-4">
                            <div class="col-md-12">
                                <a class="btn btn-white btn-lg" href="/projects/create">LAUNCH YOUR PROJECT</a>
                                <br/>
                            </div>
                        </div>
                        <div class="row text-center pt-2">
                            <div class="col-md-12">
                                <p>
                                    or join an existing
                                    <a href="/projects">collective project</a>
                                    <!--                                    TODO make it so we only see collective projects and not all projects-->
                                </p>
                            </div>
                        </div>
                    </div>
                </section>


                <!-- Project section -->
                <section class="# py-5" id="#">
                    <h2 class="subheading blue text-center mb-5">ACTIVE PROJECTS</h2>

                    <div id="project_list_homepage">
                        <t t-set="cards" t-value="project_list"/>
                        <t t-call="crowdfunding_compassion.crowdfunding_project_card_container"/>
                    </div>

<!--                    <t t-call="crowdfunding_compassion.crowdfunding_projects_pagination"/>-->
<!--                    TODO connect pagination to backend -> CO-3213-->
                    <!-- Load more button -->
                    <!--                    <div class="row py-4">-->
                    <!--                        <div class="col-sm-12 text-center">-->
                    <!--                            <button type="button" class="btn btn-primary btn-md">Load more projects</button>-->
                    <!--                            <br/>-->
                    <!--                            <br/>-->
                    <!--                        </div>-->
                    <!--                    </div>-->

                </section>


                <!-- Funds Presentation -->
                <section>
                    <div class="funds">
                        <img class="funds__header-image"
                             src="/theme_crowdfunding/static/src/img/SURVIVAL-MamaKate-266@2x.jpg" alt="Header image"/>
                        <h1 class="blue container subheading funds__header-title">your impact can do a lot</h1>
                    </div>

                    <div class="container funds__cards-container mb-5">

                        <!-- Display activated funds -->
                        <t t-foreach="funds" t-as="fund">
                            <t t-call="crowdfunding_compassion.fund_card"/>
                        </t>

                        <!-- Display sponsorship card -->
                        <t t-set="fund"
                           t-value="{'name': 'Sponsor a child', 'description': 'Description to be added'}"/>
                        <t t-call="crowdfunding_compassion.fund_card"/>

                    </div>
                </section>
            </t>
        </template>

        <!-- TODO Odoo creates automatically a "/" homepage but we cannot find the way to use it instead of creating another one -->
        <record id="homepage" model="website.page">
            <field name="name">Crowdfunding Homepage</field>
            <field name="website_published">True</field>
            <field name="url">/homepage</field>
            <field name="type">qweb</field>
            <field name="website_id" ref="crowdfunding_compassion.crowdfunding_website"/>
            <field name="view_id" ref="crowdfunding_compassion.homepage_template"/>
        </record>
    </data>
</odoo>
