==========================
Mail Tracking for Mandrill
==========================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:311ebef761be90b1b0856cd5b03daeed60eb26cfabffbb5d667b12ccff7d5fdf
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-CompassionCH%2Fcompassion--switzerland-lightgray.png?logo=github
    :target: https://github.com/CompassionCH/compassion-switzerland/tree/14.0/mail_tracking_mandrill
    :alt: CompassionCH/compassion-switzerland

|badge1| |badge2| |badge3|

This module integrates
`Mandrill <https://mailchimp.com/features/transactional-email/>`__ (now
known as Transactional-Email) with Odoo. E-mails sent through Mandrill
will be tracked using Mandrill Webhook Events.

**Table of contents**

.. contents::
   :local:

Configuration
=============

Your Mandrill account must be configured in order to receive mail events
via webhooks.

1. Launch Odoo with the newly installed module
2. Open the Mandrill web interface and select new webhook under the
   setting tab
3. Select the list of events you want to be notified about and set the
   url as follows

.. code:: html

   https://<your_domain>/mail/tracking/mandrill/<your_database>

If Mandrill displays an error it might be because it wasn't able to
reach your url. Make sure that your server is running and that the path
to your route has been setup correctly.

Once the webhook has been successfully created on the Mandrill interface
it will receive a webhook key. This key is used to validate Mandrill
request to your server and avoid undesired request from third party.
More info on `Mandrill's
documentation <https://mailchimp.com/developer/transactional/guides/track-respond-activity-webhooks/#authenticating-webhook-requests>`__.

To enable the validation process copy the key you've found on Mandrill's
interface in your Odoo configuration file with the name
mandrill_webhook_key.

.. code:: bash

   mandrill_webhook_key = <YOUR KEY>

If you choose **not** to specify the webhook key in your configuration
file the route will still be accessible by Mandrill. **But use caution
as anyone with your url could trigger your route.**

Usage
=====

Once configured changes are invisible for the backend user. No views
have been added or modified. This module relies only on already existing
( trough mail_tracking) model mail_tracking_email. The appropriated
process function will be triggered when an event from Mandrill is
received.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/CompassionCH/compassion-switzerland/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/CompassionCH/compassion-switzerland/issues/new?body=module:%20mail_tracking_mandrill%0Aversion:%2014.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
-------

* Compassion Switzerland

Maintainers
-----------

This module is part of the `CompassionCH/compassion-switzerland <https://github.com/CompassionCH/compassion-switzerland/tree/14.0/mail_tracking_mandrill>`_ project on GitHub.

You are welcome to contribute.
